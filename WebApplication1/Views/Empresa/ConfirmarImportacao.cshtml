@model WebApplication1.ViewModels.ImportacaoDividaViewModel

@{
    ViewData["Title"] = "Confirmar Importação";
}

<h2>Confirmar Importação</h2>

<form asp-action="ConfirmarImportacao" method="post">
    <table class="table-auto border-collapse border border-gray-400 w-full">
        <thead>
            <tr class="bg-gray-200">
                <th>Nome</th>
                <th>CPF</th>
                <th>Email</th>
                <th>Telefone</th>
                <th>Título</th>
                <th>Descrição</th>
                <th>Valor</th>
                <th>Status</th>
                <th>Data Vencimento</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Dividas.Count; i++)
            {
                <tr>
                    <td>
                        @Model.Dividas[i].Nome
                        <input type="hidden" name="dividasConfirmadas[@i].Nome" value="@Model.Dividas[i].Nome" />
                    </td>
                    <td>
                        @Model.Dividas[i].CPF
                        <input type="hidden" name="dividasConfirmadas[@i].CPF" value="@Model.Dividas[i].CPF" />
                    </td>
                    <td>
                        @Model.Dividas[i].Email
                        <input type="hidden" name="dividasConfirmadas[@i].Email" value="@Model.Dividas[i].Email" />
                    </td>
                    <td>
                        @Model.Dividas[i].Telefone
                        <input type="hidden" name="dividasConfirmadas[@i].Telefone" value="@Model.Dividas[i].Telefone" />
                    </td>
                    <td>
                        @Model.Dividas[i].Titulo
                        <input type="hidden" name="dividasConfirmadas[@i].Titulo" value="@Model.Dividas[i].Titulo" />
                    </td>
                    <td>
                        @Model.Dividas[i].Descricao
                        <input type="hidden" name="dividasConfirmadas[@i].Descricao" value="@Model.Dividas[i].Descricao" />
                    </td>
                    <td>
                        @Model.Dividas[i].Valor
                        <input type="hidden" name="dividasConfirmadas[@i].Valor" value="@Model.Dividas[i].Valor" />
                    </td>
                    <td>
                        @Model.Dividas[i].Status
                        <input type="hidden" name="dividasConfirmadas[@i].Status" value="@Model.Dividas[i].Status" />
                    </td>
                    <td>
                        @(Model.Dividas[i].DataVencimento?.ToString("dd/MM/yyyy") ?? "")
                        <input type="hidden" name="dividasConfirmadas[@i].DataVencimento"
                               value="@(Model.Dividas[i].DataVencimento?.ToString("yyyy-MM-dd") ?? "")" />
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded mt-4">
        Confirmar Importação
    </button>
</form>
